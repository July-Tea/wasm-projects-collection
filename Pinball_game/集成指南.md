# 弹球游戏 Vue 组件集成指南

这个指南将帮助你在 Vue 3 + Vite 项目中集成 WebAssembly 弹球游戏。

## 步骤 1: 复制必要文件

1. 确保你的项目中有以下文件：
   - `Pinballgame.vue` 组件
   - 编译好的 WebAssembly 游戏文件（在 `public/pkg` 目录下）

2. WebAssembly 文件组织结构应该如下：
   ```
   public/
   └── pkg/
       ├── wasm_game_bg.wasm
       ├── wasm_game.js
       └── wasm_game_bg.js
   ```

## 步骤 2: 在 Vite 项目中引入组件

1. 将 `Pinballgame.vue` 文件复制到你的 Vue 项目组件目录中，例如 `src/components/Pinballgame.vue`。

2. 在 Vite 配置中确保支持 WASM：

   ```js
   // vite.config.js
   export default {
     plugins: [vue()],
     optimizeDeps: {
       exclude: ['pkg/wasm_game.js']
     }
   }
   ```

3. 确保 `pkg` 目录放在 `public` 文件夹中，这样 Vite 会原样复制这些文件而不做处理。

## 步骤 3: 在你的 Vue 页面中使用弹球游戏组件

```vue
<template>
  <div class="app">
    <h1>我的弹球游戏</h1>
    <PinballGame />
  </div>
</template>

<script>
import PinballGame from './components/Pinballgame.vue'

export default {
  name: 'App',
  components: {
    PinballGame
  }
}
</script>

<style>
.app {
  text-align: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}
</style>
```

## 步骤 4: 自定义游戏大小（可选）

你可以通过传递 `width` 和 `height` 属性来自定义游戏的尺寸：

```vue
<PinballGame :width="660" :height="495" />
```

默认尺寸是 440x330，组件会保持4:3的宽高比。

## 注意事项

1. **路径问题**：确保 `pkg` 目录位于正确的位置。如果在导入 WASM 模块时遇到问题，检查路径是否正确。

2. **Canvas ID**：游戏代码依赖于 ID 为 `canvas` 的元素。如果游戏不工作，确认 canvas 元素的 ID 是否正确。

3. **响应式设计**：组件已经内置了响应式布局，会根据父容器大小自动调整，同时保持 4:3 的宽高比。

4. **鼠标控制**：游戏使用鼠标控制挡板移动。确保游戏区域能够正常接收鼠标事件。

## 故障排除

如果游戏无法加载，请检查浏览器控制台中的错误信息。常见问题包括：

- WASM 文件路径不正确
- Canvas ID 不匹配
- WASM 模块加载失败

如果看到 "加载WASM游戏时出错" 的消息，检查 `pkg` 目录是否正确放置，以及模块导入路径是否正确。 